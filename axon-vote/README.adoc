= axon-vote

//tag::content[]

In fucking progress..

.build, run, test
----
./mvnw

java -jar target/*.jar

# voting begin
http :8080/api/v1/registration id=my-vote name=my=vote
# or http :8080/api/v1/registration name=my=vote
# 201:
Location: http://localhost:8080/api/v1/registration/approve/my-vote
# ...
{
    "PUT": "http://localhost:8080/api/v1/registration/approve/my-vote",
    "message": "candidate has been registered. Please approve registration."
}

http put http://localhost:8080/api/v1/registration/approve/my-vote
# 202:
{
    "message": "Registration has been approved. Wait for elections begin and send your campaign URL to your electorate making vote for you!",
    "vote by electorId in request body - POST": "http://localhost:8080/api/v1/vote/my-vote"
}

http post http://localhost:8080/api/v1/vote/my-vote electorId=dag
http post http://localhost:8080/api/v1/vote/my-vote electorId=max
# 202, and logs: handling VotedForCandidateEvent(candidateId=my-vote, elector={"electorId": "max"})

http :8080
# output - current snapshot state...

# voting end

# counter begin
http post :8080/api/v1/counter\?counterId=my-counter
# or http post :8080/api/v1/counter
http put :8080//api/v1/counter/my-counter/enable
http post :8080//api/v1/counter/my-counter/increment
http post :8080//api/v1/counter/my-counter/increment
# counter end

http :8080
http :8080\?collection=events
----

.docker compose
----
./gradlew build composeUp
./gradlew composeDown
----

//end::content[]
